**抽象类笔记**  

----------


**一、抽象的概念**  
如果父类中的方法不确定如何进行{}方法体实现，那么这就应该是一个抽象方法  

**二、抽象方法和抽象类的格式**  
抽象方法：加上abstract关键字，然后去掉大括号，直接分号结束  
抽象类：抽象方法所在的类必须是抽象类，在class之前加上abstract关键字  

**三、抽象方法和抽象类的使用**  
1.不能直接创建抽象类对象  
2.必须用一个子类来继承抽象父类  
3.子类必须覆盖重写抽象父类中的所有抽象方法  
覆盖重写（实现）：子类去掉抽象方法中的abstract关键字，然后补上方法体大括号  
4.创建子类对象进行使用  

Animal.java  

```java
package abs.demo01;

public abstract class Animal {
    public abstract void eat();
}
```

Cat.java  

```java
package abs.demo01;

public class Cat extends Animal{
    @Override
    public void eat() {
        System.out.println("猫吃鱼");
    }
}
```

Test.java  

```java
package abs.demo01;

public class Test {
    public static void main(String[] args) {
        Cat cat = new Cat();
        cat.eat();
    }
}
```

**四、抽象方法和抽象类的注意事项**  
1.不能直接创建抽象类对象，只能创建其非抽象子类的对象  
2.抽象类中可以有构造方法，是供子类创建对象时初始化父类成员使用的  
3.抽象类不一定含有抽象方法，但抽象方法所在的类必须是抽象类  
这样没有抽象方法的抽象类，也不能直接创建对象，在一些特殊场景下有用途（适配器模式）  
4.抽象类的子类，必须重写抽象父类中所有的抽象方法，除非该子类也是抽象类  

**五、发红包案例_分析**  
题目：  
1.群主的一笔金额，从群主余额中扣除，平均分成n等份，让成员领取  
2.成员领取红包后，保存到成员余额中  

**六、发红包案例_实现**  
1.用户类User.java  

```java
package abs.demo02;

public class User {
    private String name;//姓名
    private int money;//余额

    //此处省略有参和无参构造方法
    //此处省略各成员变量的Getter和Setter

    //显示用户当前余额
    public void show() {
        System.out.println("我叫：" + name + ",我的余额：" + money);
    }
}
```

2.群主类Manager.java  

```java
package abs.demo02;

import java.util.ArrayList;

public class Manager extends User{
    public Manager() {

    }

    public Manager(String name, int money) {
        super(name, money);
    }

    //群主发红包
    public ArrayList<Integer> send(int totalMoney, int count) {
        ArrayList<Integer> redList = new ArrayList<>();
        int leftMoney = super.getMoney();
        if(leftMoney < totalMoney) {
            System.out.println("余额不足！");
            return redList;
        }
        super.setMoney(leftMoney - totalMoney);
        int avg = totalMoney / count;
        int mod = totalMoney % count;
        for (int i = 0; i < count - 1 ; i++) {
            redList.add(avg);
        }
        //把剩下的钱放在最后一个红包
        redList.add(avg + mod);
        return redList;
    }
}
```

3.成员类Member.java  

```java
package abs.demo02;

import java.util.ArrayList;
import java.util.Random;

public class Member extends User{
    public Member() {
    }

    public Member(String name, int money) {
        super(name, money);
    }

    public void receive(ArrayList<Integer> list) {
        //随机抽取
        int index = new Random().nextInt(list.size());
        super.setMoney(super.getMoney() + list.remove(index));

    }
}
```

4.测试类Test.java  

```java
package abs.demo02;

import java.util.ArrayList;

public class Test {
    public static void main(String[] args) {
        Manager manager = new Manager("群主", 100);
        Member memberA = new Member("成员A",0);
        Member memberB = new Member("成员B",0);
        Member memberC = new Member("成员C",0);

        manager.show();
        memberA.show();
        memberB.show();
        memberC.show();
        System.out.println("=================");

        ArrayList<Integer> redList = manager.send(20, 3);
        memberA.receive(redList);
        memberB.receive(redList);
        memberC.receive(redList);

        manager.show();
        memberA.show();
        memberB.show();
        memberC.show();
    }
}
```

5.运行结果  
我叫：群主,我的余额：100  
我叫：成员A,我的余额：0  
我叫：成员B,我的余额：0  
我叫：成员C,我的余额：0  
\=================  
我叫：群主,我的余额：80  
我叫：成员A,我的余额：6  
我叫：成员B,我的余额：8  
我叫：成员C,我的余额：6  