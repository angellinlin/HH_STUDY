**多态笔记**  

----------


**一、多态的概述**  
extends继承或者implements实现，是多态性的前提  

**二、多态的格式与使用**  
代码中体现多态性：父类引用指向子类对象  
格式：  
父类名称 对象名 = new 子类名称();  
接口名称 对象名 = new 实现类名称();  

**三、多态中成员变量的使用特点**  
同继承规则  
1.直接通过子类对象访问成员变量：=左边是谁就优先用谁，没有则向上找    
2.间接通过成员方法访问成员变量：该方法属于谁就优先用谁，没有则向上找    

**四、多态中成员方法的使用特点**  
同继承规则  
创建的对象是谁，就优先用谁，如果没有就向上找   
口诀：编译看左边，运行看右边  

对比：  
成员变量：编译看左边，运行还看左边  
成员方法：编译看左边，运行看右边  

**五、使用多态的好处**  
无论右边new的时候换成哪个子类对象，等号左边调用方法都不会变化  

**六、对象的向上转型**  
对象的向上转型就是父类引用指向子类对象：父类名称 对象名 = new 子类名称();  
向上转型一定是安全的，从小范围转向了大范围  

对象一旦向上转型为父类，那么就无法调用子类原本特有的内容  
解决方案：用对象的向下转型【还原】  

**七、对象的向下转型**  
对象的向下转型，其实是一个【还原】的动作  
格式：子类名称 对象名 = (子类名称)父类对象;  
含义：将父类对象，【还原】成为本来的子类对象  

**八、instanceof关键字**  
格式：对象 instanceof 类名称  
这将会得到一个boolean值结果，也就是判断前面的对象能不能当做后面类型的实例  

**九、笔记本USB接口案例_分析**   
进行描述笔记本类，实现笔记本使用USB鼠标、USB键盘  
1.USB接口，包含打开设备功能、关闭设备功能  
2.笔记本类，包含开机功能、关机功能、使用USB设备功能  
3.鼠标类，要实现USB接口，并具备点击的方法  
4.键盘类，要实现USB接口，并具备敲击的方法  

**十、笔记本USB接口案例_实现**  
重点：  
1.接口的基本使用  
2.对象的上下转型  
3.使用接口作为方法的参数  

1.USB接口USB.java  

```java
package day0802.computerUSB;

public interface USB {
    //所有的USB设备都具这些功能
    //打开USB设备
    public abstract void open();

    //关闭USB设备
    public abstract void close();
}
```

2.USB设备-鼠标Mouse.java  

```java
package day0802.computerUSB;

public class Mouse implements USB{

    @Override
    public void open() {
        System.out.println("打开鼠标");
    }

    @Override
    public void close() {
        System.out.println("关闭鼠标");
    }

    public void click() {
        System.out.println("鼠标点击");
    }
}
```

3.USB设备-键盘KeyBoard.java  

```java
package day0802.computerUSB;

public class KeyBoard implements USB{
    @Override
    public void open() {
        System.out.println("打开键盘");
    }

    @Override
    public void close() {
        System.out.println("关闭键盘");
    }

    public void type() {
        System.out.println("键盘输入");
    }
}
```

4.笔记本Laptop.java  

```java
package day0802.computerUSB;

public class Laptop {
    //开机
    public void powerOn() {
        System.out.println("笔记本开机");
    }

    //关机
    public void powerOff() {
        System.out.println("笔记本关机");
    }

    //使用USB设备
/*
    1.所有的USB设备都遵循统一的规范（Mouse和KeyBoard都实现了USB接口），生产厂家在生产笔记本时不需要给每一种USB设备都生产一个特定的接口
    2.只要符合这个统一规范的USB设备都能使用这个USB接口与笔记本进行连接
    2.笔记本在使用USB设备时也就并不用关心具体的USB设备是什么
*/
    public void useUSBDevice(USB usb) {
        //打开USB设备
        usb.open();
        //使用USB设备
        if (usb instanceof Mouse) {
            ((Mouse) usb).click();//向下转型
        } else if (usb instanceof KeyBoard) {
            ((KeyBoard) usb).type();//向下转型
        }
        //关闭USB设备
        usb.close();
    }
}
```

5.测试类DemoMain.java  

```java
package day0802.computerUSB;

public class DemoMain {
    public static void main(String[] args) {
        //1.创建一个笔记本
        Laptop laptop = new Laptop();
        //2.笔记本开机
        laptop.powerOn();
        System.out.println("==============");
        //3.创建并使用USB设备-鼠标
        USB usbMouse = new Mouse();//向上转型
        laptop.useUSBDevice(usbMouse);
        System.out.println("==============");
        //4.创建并使用USB设备-键盘
        KeyBoard usbKeyBoard = new KeyBoard();
        laptop.useUSBDevice(usbKeyBoard);//向上转型
        System.out.println("==============");
        //5.笔记本关机
        laptop.powerOff();
    }
}
```

6.结果  
笔记本开机  
\==============  
打开鼠标  
鼠标点击  
关闭鼠标  
\==============  
打开键盘  
键盘输入  
关闭键盘  
\==============  
笔记本关机  