**斗地主案例笔记**  

----------


**一、斗地主案例的需求分析**  
1.具体规则：使用54张牌打乱顺序，三个玩家参与游戏，三人交替摸牌，每人17张牌，最后3张留作底牌  
2.步骤分析：  

    a.准备54张牌，存储到一个集合中
      特殊牌：大王、小王
      其余的52张牌：定义一个数组/集合，存储4种花色（红桃，黑桃，梅花，方块）
                   定义一个数组/集合，存储13个序号2、A、K、...、3
      循环嵌套遍历两个数组/集合，组装52张牌
    b.洗牌
      使用集合工具类Collections的方法
      static void shuffle(List<?> list)：使用指定的随机源随机排列指定的列表
      会随机的打乱集合中元素的顺序
    c.发牌
      每人17张牌，剩余3张作为底牌，一人一张轮流发牌：集合的索引 % 3
      定义4个集合，存储3个玩家的牌和底牌
      当索引 >= 51，则为底牌
    d.看牌
      直接打印集合，遍历存储玩家和底牌的集合

**二、斗地主案例的代码实现**  

    package day0804.landlord;
    
    import java.util.ArrayList;
    import java.util.Collection;
    import java.util.Collections;
    
    public class FightLandlord {
        public static void main(String[] args) {
            //1.准备一副牌和三个玩家
            ArrayList<String> cards = cards();
            ArrayList<String> player01 = new ArrayList<>();
            ArrayList<String> player02 = new ArrayList<>();
            ArrayList<String> player03 = new ArrayList<>();
            ArrayList<String> leftThree = new ArrayList<>();
            System.out.println("生成的一副新牌:" + cards.toString());
            System.out.println("======================================================");
            //2.洗牌
            Collections.shuffle(cards);
            System.out.println("洗牌:" + cards.toString());
            System.out.println("======================================================");
            //3.发牌
            int i;
            for (i = 0; i < cards.size() - 3; i++) {
                switch (i % 3) {
                    case 0:
                        player01.add(cards.get(i));
                        break;
                    case 1:
                        player02.add(cards.get(i));
                        break;
                    case 2:
                        player03.add(cards.get(i));
                        break;
                }
            }
            leftThree.add(cards.get(i++));
            leftThree.add(cards.get(i++));
            leftThree.add(cards.get(i++));
            //4.看牌
            System.out.println("看牌：");
            System.out.println("玩家1的牌：" + player01);
            System.out.println("玩家2的牌：" + player02);
            System.out.println("玩家3的牌：" + player03);
            System.out.println("底牌：" + leftThree);
        }
    
        public static ArrayList<String> cards() {//准备一副牌
            ArrayList<String> cards = new ArrayList<>();
            cards.add("大王");
            cards.add("小王");
            String[] s1 = {"♥","♠","♣","♦"};
            String[] s2 = {"2","A","k","Q","J","10","9","8","7","6","5","4","3"};
            for (int i = 0; i < s1.length; i++) {
                for (int j = 0; j < s2.length; j++) {
                    cards.add(s1[i] + s2[j]);
                }
            }
            return cards;
        }
    }