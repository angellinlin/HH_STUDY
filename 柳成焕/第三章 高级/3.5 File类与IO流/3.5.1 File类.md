### 3.5.1 File类

#### 一、File类概述

java.io.File类：文件和目录路径名的抽象表示形式。
   java把电脑中的文件和文件夹（目录）封装为File类，我们可以使用File类对文件和文件夹进行操作。
   我们可以使用File类的方法：创建一个文件/文件夹、删除文件/文件夹、获取文件/文件夹、判断文件/文件夹是否存在、对文件夹进行遍历、获取文件的大小。
   File是一个与系统无关的类，任何的操作系统都可以使用这个类中的方法。
 重点记住三个单词：
   file 文件
   directory：文件夹/目录
   path：路径

 

#### 二、File类静态成员变量

static String pathSeparator 系统有关的路径分隔符，为了方便，它被表示为一个字符串。
 static char pathSeparatorChar 与系统有关的路径分隔符。（路径分隔符windows分号； linux冒号：）
 static String separator 系统有关的默认名称分隔符，为了方便，它被表示为一个字符串。
 static char separatorChar 与系统有关的默认名称分隔符。（文件名称分隔符 windows反斜杠\ ,linux正斜杠/）
 
 操作路径：路径不能写死了。
 C:\develop\a\a.txt windows
 C:/develop/a/a.txt  linux
 "C:"+File.separator+"develop"+File.separator+"a"+File.separator+"a.txt"

 

三、绝对路径和相对路径
 绝对路径：是一个完整地路径。
     以盘符开始的路径C:\\a.txt
     F:\\JAVADemo\\Senior\\FileAndRecursion\\123.txt
 相对路径：是一个简化的路径
   相对于当前项目的根目录: F:\\JAVADemo\\Senior\\FileAndRecursion
   如果使用当前项目的根目录，路径可以简化为：F:\\JAVADemo\\Senior\\FileAndRecursion\\123.txt-->简化为：123.txt（可以省略项目的根目录）
 注意：
 1、路径是不区分大小写的；
 2、路径中的文件名称分隔符windows使用反斜杠，反斜杠是转义字符，两个反斜杠代表一个普通的反斜杠。

 

#### 四、File类的构造方法

**1****、File(String pathname)** 通过将给定路径名字符串转换为抽象路径名来创建一个新 File 实例。
 参数：
   String pathname：字符串的路径名称
   路径可以是以文件结尾，也可以是以文件夹结尾
   路径可以是绝对路径，也可以是相对路径
   路径可以存在，也可以不存在
   创建File类对象只是把字符串路径封装为File类对象，不考虑真假情况
 

```
2、File(String parent, String child) 根据 parent 路径名字符串和 child 路径名字符串创建一个新 File 实例。
参数：把路径分成了两部分
    String parent父路径，String child子路径
好处：父路径和子路径可单独书写，使用起来非常灵活；父路径和子路径都可以变化。
File file1 = new File(parent, child);
System.out.println(file1);
```


 **3****、File(File parent, String child)** 根据 parent 抽象路径名和 child 路径名字符串创建一个新 File 实例。
 参数：把路径分成了两部分
   File parent父路径, String child子路径
 好处：
   父路径和子路径可单独书写，使用起来非常灵活；父路径和子路径都可以变化。
   父路径是File类型。可以使用File的一些方法对路径进行一些操作，再使用路径创建对象。

```
File parent = new File("c:\\");
File file = new File(parent, "hello.txt");
```

 

#### 五、File类的常用方法

**（一）获取功能**

**1****、public String getAbsolutePath()**:返回File类的绝对路径字符串，无论路径是相对的还是绝对的，getAbsolutePath方法返回的都是绝对路径。

```
File file1 = new File("F:\\JAVADemo\\Senior\\FileAndRecursion\\a.txt");
String absolutePath1 = file1.getAbsolutePath();
System.out.println(file1);//F:\JAVADemo\Senior\FileAndRecursion\a.txt

File file2 = new File("b.txt");
String absolutePath2 = file2.getAbsolutePath();
System.out.println(absolutePath2);//F:\JAVADemo\Senior\FileAndRecursion\b.txt
```


 **2****、public String getPath()**:将此File转换为路径名字符串（toString方法调用的其实就是getPath方法）

```
File file1 = new File("F:\\JAVADemo\\Senior\\FileAndRecursion\\a.txt");
String path1 = file1.getPath();
System.out.println(path1);//F:\JAVADemo\Senior\FileAndRecursion\a.txt

File file2 = new File("b.txt");
String path2 = file2.getPath();
System.out.println(path2);//b.txt

System.out.println(file1);//F:\JAVADemo\Senior\FileAndRecursion\a.txt
//toString方法调用的其实就是getPath方法
System.out.println(file1.toString());//F:\JAVADemo\Senior\FileAndRecursion\a.txt
```


 **3****、public String getName()**:返回由此File表示的文件或目录名称。获取的就是构造方法传递路径的结尾部分（文件/文件夹）

```
File file1 = new File("F:\\JAVADemo\\Senior\\FileAndRecursion\\a.txt");
String name1 = file1.getName();
System.out.println(name1);//a.txt

File file2 = new File("F:\\JAVADemo\\Senior\\FileAndRecursion");
String name2 = file2.getName();
System.out.println(name2);//FileAndRecursion
```


 **4****、public long length()**:返回由此File类表示的文件的长度。获取的是构造方法指定的文件的大小，以字节为单位。
 注意：
   1、文件夹是没有大小概念的，所以不能获取文件夹的大小。
   2、如果构造方法中给出的路径不存在，那么length方法返回0.

```
File file1 = new File("F:\\JAVADemo\\Senior\\FileAndRecursion\\1.png");
long l1 = file1.length();
System.out.println(l1);  //182005

File file2=new File("F:\\JAVADemo\\Senior\\FileAndRecursion\\2.png");
System.out.println(file2.length());  //路径不存在，返回0

File file3=new File("F:\\JAVADemo\\Senior\\FileAndRecursion\\a");
System.out.println(file3.length());  //文件夹没有大小概念，返回0
```

 

**（二）判断功能**

**1****、public boolean exists()**:由File表示的文件或目录是否实际存在。存在：true，不存在：false

```
System.out.println(file1.exists());  //路径存在，true

File file2=new File("F:\\JAVADemo\\Senior\\FileAndRecursionAAA");
System.out.println(file2.exists());  //路径不存在，false

File file3=new File("FileAndRecursion0724");//其实是"F:\\JAVADemo\\Senior\\FileAndRecursion\\FileAndRecursion0724"
System.out.println(file1.exists());  //相对路径，存在，true
```


 **2****、public boolean isDirectory()**:由File表示的是否为目录。用于判断构造方法中的路径是否以文件夹结尾。

**3****、public boolean isFile()**:由File表示的是否为文件用于判断构造方法中的路径是否为文件。
 注意：电脑硬盘中只有文件和文件夹，两个方法是互斥的。
   使用前提：路径必须存在，否则都返回false。

```
File file1=new File("F:\\JAVADemo\\Senior\\FileAndRecursionAAA");
//不存在就没有必要获取
if(file1.exists()){     }
File file2=new File("F:\\JAVADemo\\Senior\\FileAndRecursion\\a\\1.png");
System.out.println(file2.isFile());  //文件，true
System.out.println(file2.isDirectory()); //false
```

 

**（三）创建删除功能**

```
1、public boolean creatNewFile():当且仅当具有该名称的文件尚不存在时，创建一个新的空文件。
创建文件的路径和名称在构造方法中给出（构造方法参数）
返回值：
    true:文件不存在，创建文件，返回true
    false:文件存在，不会创建，返回false
注意事项：
1、此方法只能创建文件，不能创建文件夹。
2、创建文件的路径必须存在，否则会抛出异常。
createNewFile声明抛出了异常IOException，我们调用此方法时，要么try/catch,要么throws
File file1 = new File("F:\\JAVADemo\\Senior\\FileAndRecursion\\1.txt");
boolean b1 = file1.createNewFile();
System.out.println(b1);

File file2 = new File("2.txt");
boolean b2 = file2.createNewFile();
System.out.println(b2);

File file3 = new File("F:\\JAVADemo\\Senior\\FileAndRecursion\\新建文件夹");
System.out.println(file3.createNewFile());  //这也是创建一个文件，不要看名称，要看类型

File file4 = new File("FileAndRecursion\\3.txt");
System.out.println(file4.createNewFile());  //路径不存在，抛出异常
2、public boolean mkdir():创建由此File表示的目录。创建单级空文件夹。
3、public boolean mkdirs():创建由此File表示的目录,包括任何必需但不存在的父目录。即可创建单级空文件夹，也可创建多级空文件夹。
创建文件夹的路径和名称在构造方法中给出（构造方法参数）
返回值：
    true:文件夹不存在，创建文件夹，返回true
    false:文件夹存在，不会创建，返回false，构造方法中给出的路径不存在也返回false
注意事项：此方法只能创建文件夹，不能创建文件。
File file1=new File("AAA");
boolean b1=file1.mkdir();
System.out.println(b1);

File file2=new File("111\\222\\333");
System.out.println(file2.mkdirs());

File file3=new File("abc.txt");
System.out.println(file3.mkdir());  //创建的是名叫abc.txt的文件夹

File file4=new File("08\\abc.txt");
System.out.println(file4.mkdir());  //路径不存在，返回false
4、public boolean delete():删除由此File表示的文件或目录。此方法可删除构造方法中给出的文件/文件夹。
返回值：
    true 文件/文件夹删除成功
    false：文件夹中有内容，不会删除，返回false
            构造方法中路径不存在，返回false
注意：delete方法是直接在硬盘删除文件/文件夹，不走回收站，删除要谨慎
```

 

**（四）遍历目录（文件夹）**

**1****、public String[] list()**:返回一个String数组，表示该File目录下的所有子文件或目录。
 遍历构造方法中给出的目录，会获取目录中所有的文件/文件夹的名称，把获取到的多个名称存储到一个String类型数组中。

```
File file01 = new File("F:\\JAVADemo\\Senior\\FileAndRecursion");
//File file01 = new File("F:\\JAVADemo\\Senior\\FileAndRecursionAAA");
//File file01 = new File("F:\\JAVADemo\\Senior\\FileAndRecursion\\1.txt");
String[] arr1 = file01.list();
for (String s : arr1) {
    System.out.println(s);
}
```


 **2****、public File[] listFiles()**:返回一个File数组，表示该File目录下所有的子文件或目录。
 遍历构造方法中给出的目录，会获取目录中所有的文件/文件夹的，把文件/文件夹封装为File对象，多个File对象存储到File数组中。
 注意：
 list方法和listFiles方法遍历的是构造方法给出的目录；
  如果构造方法中给出的目录路径不存在，则会抛出空指针异常
  如果构造方法中给出的路径不是一个目录，也会抛出空指针异常

```
File file01 = new File("F:\\JAVADemo\\Senior\\FileAndRecursion");
File[] files=file01.listFiles();
for (File file : files) {
    System.out.println(file);
}    // F:\JAVADemo\Senior\FileAndRecursion\.idea
```

 